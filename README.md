# WadeRepository
learn
## 线程的安全性
1. 原子性：提供了互斥访问，同一时刻只能有一个线程来对它进行操作
2. 可见性：一个线程对主内存的修改可以及时的被其他线程观察到
3. 有序性：一个线程观察其他线程中的指令执行顺序，由于指令重排序的存在，该观察结果一般是杂乱无序

### 原子性

> Atomic包
> 位于java.util.concurrent.atomic
> AtomicXXX : CAS、Unsafe.compareAndSwapXXX
> CAS（Compare and swap）比较和替换是设计并发算法时用到的一种技术。简单来说，比较和替换是使用一个期望值和一个变量的当前值进行比较，如果当前变量的值与我们期望的值相等，就使用一个新值替换当前变量的值。

* AtomicLong的原理是依靠底层的cas来保障原子性的更新数据，在要添加或者减少的时候，会使用死循环不断地cas到特定的值，从而达到更新数据的目的。如果竞争不激烈，修改成功几率很高，否则失败概率很高，在失败几率很高的情况下，这些原子操作就会进行多次的循环操作尝试，因此性能会受到影响。
